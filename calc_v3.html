<!DOCTYPE html>
<html>
  <head>
    <title>Calculator App</title>
    <meta charset="UTF-8" />
<link rel="icon" href="https://cdn.glitch.global/4aba7458-1964-4806-b002-2d38cf08add5/calc.png?v=1723538347496" type="image/x-icon" />
      <link rel="stylesheet" type="text/css" href="glowy.css/>
  </head>
  <body>
    <!--h1>Calculator App</h1-->
    <div class="calc-container">
      <div class="result" id="result">0</div>
      <div>
        <button class="button-85" onclick="appendSymbol('1')">1</button>
        <button class="button-85" onclick="appendSymbol('2')">2</button>
        <button class="button-85" onclick="appendSymbol('3')">3</button>
        <button class="button-85" onclick="appendOperator('+')">+</button>
      </div>
      <div>
        <button class="button-85" onclick="appendSymbol('4')">4</button>
        <button class="button-85" onclick="appendSymbol('5')">5</button>
        <button class="button-85" onclick="appendSymbol('6')">6</button>
        <button class="button-85" onclick="appendOperator('-')">-</button>
      </div>
      <div>
        <button class="button-85" onclick="appendSymbol('7')">7</button>
        <button class="button-85" onclick="appendSymbol('8')">8</button>
        <button class="button-85" onclick="appendSymbol('9')">9</button>
        <button class="button-85" onclick="appendOperator('*')">×</button>
      </div>
      <div>
        <button class="button-85" onclick="backspace()">←</button>
        <button class="button-85" onclick="appendSymbol('0')">0</button>
        <button class="button-85" onclick="calculate()">=</button>
        <button class="button-85" onclick="appendOperator('/')">÷</button>
      </div>
      <div>
        <button style="color: red" class="button-85" onclick="clearResult()">
          C
        </button>
        <button
          style="color: lime"
          class="button-85"
          onclick="window.location.href='vs.html'"
        >
          Home
        </button>
      </div>
    </div>

    <script>
      let result = document.getElementById("result");
      let currentInput = "0";
      let currentOperator = "";
      let resetNext = false;

      function appendSymbol(symbol) {
        if (resetNext) {
          currentInput = symbol;
          resetNext = false;
        } else {
          if (currentInput === "0") {
            currentInput = symbol;
          } else {
            currentInput += symbol;
          }
        }
        result.innerText = currentInput;
      }

      function appendOperator(operator) {
        if (currentOperator) {
          calculate();
        }
        currentOperator = operator;
        currentInput += " " + operator + " ";
        result.innerText = currentInput;
      }

      function calculate() {
        try {
          let evaluatedResult = eval(currentInput.replace(/\s/g, ""));
          result.innerText = evaluatedResult;
          currentInput = evaluatedResult.toString();
          currentOperator = "";
          resetNext = true;
        } catch (error) {
          result.innerText = "Error";
          currentInput = "0";
          currentOperator = "";
        }
      }

      function clearResult() {
        currentInput = "0";
        currentOperator = "";
        result.innerText = currentInput;
      }

      function backspace() {
        if (currentInput.length > 1) {
          currentInput = currentInput.slice(0, -1);
        } else {
          currentInput = "0";
        }
        result.innerText = currentInput;
      }

      document.addEventListener("keydown", function (event) {
        const key = event.key;
        if (key >= "0" && key <= "9") {
          appendSymbol(key);
        } else if (key === "+" || key === "-" || key === "*" || key === "/") {
          appendOperator(key);
        } else if (key === "Enter" || key === "=") {
          event.preventDefault(); // Prevent form submission if the calculator is in a form
          calculate();
        } else if (key === "Backspace") {
          backspace();
        } else if (key === "Escape" || key.toLowerCase() === "c") {
          clearResult();
        }
      });
    </script>
  </body>
</html>
